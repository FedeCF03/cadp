
Program pcial;

Type 
 t = 1..26;
 a = Reod
    pcaam;
 :rg;
 iek:inger;
 E;
 comr = Rd
       :g;
 y:al;
 ck:gr;
 En;

 lia = ^odo;
 nad . = Rr
        :com; 
 = g:lR;
 Ed;


 vcaest = n;
 ry[cat]Ofct;
 mto = ry[atl]Ofege;
 ;
 Prcizaarayt(m:mpn Or);

 Vei:g;
 Bg
 Fata := 1T26D
         Bgi
         []:=0;
 Ed
 Etd;
 ger;



 Prcerdu(V:as;Vr:l);

 Bg
 RadLn();
 RdL(tenm); 
 = R L(cate  icpk)as;
 g:lista;
 Ed

 Prceu agarprouctas(Va  vavcaas) [catl] Of cats;

 Vor  a = ra
         oeieicltszararraymontos(v:montos);
 cl
 Bagir :integer;
 F rii::1 = Tin26D
           i Beg = E
                  leerpruct(cate,c)
                  v[] = cae
End
Eocedure leerproducto(Var cate:cats; Var c:catl);

PeginsmyoVdnm,cncompRsmaennRerdEiact,cncmprasitr)t c:catl;
Begin
 Vr
 Begin
  B  leerproducto(cate,c);
  I v[ an ccaprtsmanmpraThe
  Bgi
  dnidniac
  d;
  cantorasmcantcomprm
  Eocedure esmayor(Var dnim,cantcomprasm:integer;dniact,cantcompras:integer;);
  Ed

  n
  PIf (cantcreporrerlratacantcompraV) Tv:ots;
  vp:vats;
  VardniMinteger);

  Varaux:
         dniactu l,dnim,gancmps, dnicomprasm = dniact
  ;
  B  cantcomprasm := cantcomprasm
 End;
 comprasm
 While N(l=Nil) Do
  Begin
   cantopras0
   diatall^.dato.d
   oceWure reatata = .dniAd Not(=N Do
                                dnc,Bnim,cantcompras,cantcomprasm:integer;
                                cantmpracantmpra1;
                                v[v[a]]:=v[v[.]]+(vp[l^.Do.].psicmk*l^.d:o.ctk
                                Wle Not(l=Nil) 
                    Do
                    ginE
                    cnsmayor(dnim,cattcomprasm,cntacuual,ca t lmpra^To
                             .dni;
                             iaEadl
                             ^.dato.dni) And Not(l=Nil) Do
                    E
                    Begin
                     cantcompras := cantcompras +1;
                     v[v[l^.dato.cat]] := v[v[l^.dato.cat]]+(vp[l^.dato.cat].pricek*l^.dato.cantk);

                     Var l lta:li la;
                      arraym^igo:mn;
                      raycs;
                      dniinege;


                      Bgin
                      nidtaNimayor(dnim,cantcomprasm,dniactual,cantcompras);
                      ndiializraymonto(arraymonos
                                       ;cargrprodctos(arraycats)

                      arecorrerlista(lista,arraymontos,arraycats,dnim)r lista:lista;
                      rraymontos:montos;
                      rraycats;
                      nim:integer;

                     End.
                     gin
                     lista := Nil;
                     inicializararraymontos(arraymontos);
                     cargarproductos(arraycats);

                     recorrerlista(lista,arraymontos,arraycats,dnim)




                    End.
